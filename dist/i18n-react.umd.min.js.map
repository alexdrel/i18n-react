{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///i18n-react.umd.min.js","webpack:///webpack/bootstrap de544891ce6d7143adcc","webpack:///./src/i18n-react.ts","webpack:///external \"React\""],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","first","o","k","merge2","head","tail","_","isString","merge","middle","cleanupProps","props","JSON","parse","stringify","rangeHit","node","val","t","hasOwnProperty","range","match","resolveContextPath","path","context","trans","key","get","toString","resolveContext","isObject","ctx_keys","__","split","push","React","s","String","obj","spath","i","len","length","maybeRegex","regexes","strong","em","h1","h2","h3","h4","br","self","inter","matcher","prototype","M","value","res","type","rtype","rres","exec","createElement","MDText","texts","_this","span","li","div","button","a","text","tag","translate","setTexts","interpolate","exp","vars","_a","vn","flags","v","isValidElement","cloneElement","vs","toLocaleString","format","options","undefined","notFound","singleton","__esModule"],"mappings":"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","file":"i18n-react.umd.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"i18n-react\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"i18n-react\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"i18n-react\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"i18n-react\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar React = __webpack_require__(1);\n\tvar _ = {\n\t    isString: function (s) { return typeof s === 'string' || s instanceof String; },\n\t    isObject: function (o) { return typeof o === 'object'; },\n\t    get: function (obj, path) {\n\t        var spath = path.split('.');\n\t        for (var i = 0, len = spath.length; i < len; i++) {\n\t            if (!obj || typeof obj !== 'object')\n\t                return undefined;\n\t            obj = obj[spath[i]];\n\t        }\n\t        return obj;\n\t    }\n\t};\n\tfunction first(o) {\n\t    for (var k in o) {\n\t        if (k != '__')\n\t            return o[k];\n\t    }\n\t}\n\tfunction merge2(head, tail) {\n\t    if (head == null)\n\t        return tail;\n\t    if (tail == null)\n\t        return head;\n\t    if (_.isString(head) && _.isString(tail))\n\t        return head + tail;\n\t    return [head, tail];\n\t}\n\tfunction merge(head, middle, tail) {\n\t    if (head == null)\n\t        return merge2(middle, tail);\n\t    if (middle == null)\n\t        return merge2(head, tail);\n\t    if (tail == null)\n\t        return merge2(head, middle);\n\t    if (_.isString(head) && _.isString(middle) && _.isString(tail))\n\t        return head + middle + tail;\n\t    return [head, middle, tail];\n\t}\n\tfunction cleanupProps(props) {\n\t    var p = JSON.parse(JSON.stringify(props));\n\t    delete p['text'];\n\t    return p;\n\t}\n\tvar maybeRegex = /[\\*_\\{\\[\\n]/;\n\tvar regexes = {\n\t    strong: /^(|.*?\\W)\\*(\\S.*?)\\*(|\\W.*)$/,\n\t    em: /^(|.*?\\W)_(\\S.*?)_(|\\W.*)$/,\n\t    p: /^(.*?)\\[(.*?)\\](.*)$/,\n\t    h1: /^(|.*?(?=\\n))\\n*\\s*#([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n\t    h2: /^(|.*?(?=\\n))\\n*\\s*##([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n\t    h3: /^(|.*?(?=\\n))\\n*\\s*###([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n\t    h4: /^(|.*?(?=\\n))\\n*\\s*####([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n\t    br: /^(.*?)[^\\S\\n]*\\n()[^\\S\\n]*([\\s\\S]*)$/,\n\t    self: /^(.*?)\\{\\{(.*?)\\}\\}(.*)$/,\n\t    inter: /^(.*?)\\{(.*?)\\}(.*)$/\n\t};\n\tvar matcher = (function () {\n\t    function matcher(inter, self) {\n\t        this.inter = inter;\n\t        this.self = self;\n\t    }\n\t    matcher.prototype.M = function (value) {\n\t        if (value == null || value == '')\n\t            return null;\n\t        if (!value.match(maybeRegex))\n\t            return value;\n\t        var res = null, type = null;\n\t        for (var rtype in regexes) {\n\t            if (!regexes.hasOwnProperty(rtype))\n\t                continue;\n\t            var rres = regexes[rtype].exec(value);\n\t            if (rres) {\n\t                if (res == null || rres[1].length < res[1].length) {\n\t                    res = rres;\n\t                    type = rtype;\n\t                }\n\t            }\n\t        }\n\t        if (!type)\n\t            return value;\n\t        var middle = null;\n\t        switch (type) {\n\t            case \"inter\":\n\t                middle = this.inter && this.inter(res[2]);\n\t                break;\n\t            case \"self\":\n\t                middle = this.self && this.self(res[2]);\n\t                break;\n\t            default:\n\t                middle = React.createElement(type, { key: type + res[2] }, this.M(res[2]));\n\t                break;\n\t        }\n\t        return merge(this.M(res[1]), middle, this.M(res[3]));\n\t    };\n\t    return matcher;\n\t}());\n\tfunction rangeHit(node, val) {\n\t    for (var t in node) {\n\t        if (!node.hasOwnProperty(t))\n\t            continue;\n\t        var range = t.match(/^(-?\\d+)\\.\\.(-?\\d+)$/);\n\t        if (range && (+range[1] <= val && val <= +range[2])) {\n\t            return node[t];\n\t        }\n\t    }\n\t}\n\tfunction resolveContextPath(node, p, path, context) {\n\t    var key = path[p];\n\t    var trans;\n\t    if (key != null && context[key] != null) {\n\t        trans = _.get(node, context[key].toString());\n\t        if (trans == null && (+context[key]) === context[key]) {\n\t            trans = rangeHit(node, +context[key]);\n\t        }\n\t    }\n\t    if (trans == null)\n\t        trans = node._;\n\t    if (trans == null)\n\t        trans = first(node);\n\t    if (trans != null && !_.isString(trans)) {\n\t        return resolveContextPath(trans, p + 1, path, context);\n\t    }\n\t    return trans;\n\t}\n\tfunction resolveContext(node, context) {\n\t    if (context == null) {\n\t        return resolveContextPath(node, 0, [], null);\n\t    }\n\t    else if (!_.isObject(context)) {\n\t        return resolveContextPath(node, 0, ['_'], { _: context });\n\t    }\n\t    else {\n\t        var ctx_keys = [];\n\t        if (node.__) {\n\t            ctx_keys = node.__.split('.');\n\t        }\n\t        else {\n\t            for (var k in context) {\n\t                if (!context.hasOwnProperty(k))\n\t                    continue;\n\t                ctx_keys.push(k);\n\t            }\n\t        }\n\t        return resolveContextPath(node, 0, ctx_keys, context);\n\t    }\n\t}\n\tvar MDText = (function () {\n\t    function MDText(texts) {\n\t        var _this = this;\n\t        this.texts = texts;\n\t        this.p = this.factory('p');\n\t        this.span = this.factory('span');\n\t        this.li = this.factory('li');\n\t        this.div = this.factory('div');\n\t        this.button = this.factory('button');\n\t        this.a = this.factory('a');\n\t        this.text = function (props) { return React.createElement(props.tag || 'span', cleanupProps(props), _this.translate(props.text, props)); };\n\t    }\n\t    MDText.prototype.setTexts = function (texts) {\n\t        this.texts = texts;\n\t    };\n\t    MDText.prototype.interpolate = function (exp, vars) {\n\t        var _a = exp.split(','), vn = _a[0], flags = _a[1];\n\t        var v = _.get(vars, vn);\n\t        if (v == null) {\n\t            return null;\n\t        }\n\t        else if (React.isValidElement(v)) {\n\t            return React.cloneElement(v, { key: 'r' });\n\t        }\n\t        var vs;\n\t        if (flags && flags.match(/l/)) {\n\t            vs = v.toLocaleString();\n\t        }\n\t        else {\n\t            vs = v.toString();\n\t        }\n\t        return vs;\n\t    };\n\t    MDText.prototype.format = function (value, vars) {\n\t        var _this = this;\n\t        return new matcher(function (exp) { return _this.interpolate(exp, vars); }, function (exp) { return _this.translate(exp, vars); }).M(value);\n\t    };\n\t    MDText.prototype.translate = function (key, options) {\n\t        if (key == null)\n\t            return null;\n\t        var trans = _.get(this.texts, key);\n\t        if (trans != null && !_.isString(trans)) {\n\t            trans = resolveContext(trans, options && options.context);\n\t        }\n\t        if (trans == null) {\n\t            return (options && options.notFound !== undefined) ? options.notFound :\n\t                this.notFound !== undefined ? this.notFound :\n\t                    key;\n\t        }\n\t        return this.format(trans, options);\n\t    };\n\t    MDText.prototype.factory = function (tag) {\n\t        var _this = this;\n\t        return function (props) { return React.createElement(tag, cleanupProps(props), _this.translate(props.text, props)); };\n\t    };\n\t    return MDText;\n\t}());\n\texports.MDText = MDText;\n\tvar singleton = new MDText(null);\n\texports.__esModule = true;\n\texports[\"default\"] = singleton;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** i18n-react.umd.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap de544891ce6d7143adcc\n **/","\"use strict\";\nvar React = require('react');\nvar _ = {\n    isString: function (s) { return typeof s === 'string' || s instanceof String; },\n    isObject: function (o) { return typeof o === 'object'; },\n    get: function (obj, path) {\n        var spath = path.split('.');\n        for (var i = 0, len = spath.length; i < len; i++) {\n            if (!obj || typeof obj !== 'object')\n                return undefined;\n            obj = obj[spath[i]];\n        }\n        return obj;\n    }\n};\nfunction first(o) {\n    for (var k in o) {\n        if (k != '__')\n            return o[k];\n    }\n}\nfunction merge2(head, tail) {\n    if (head == null)\n        return tail;\n    if (tail == null)\n        return head;\n    if (_.isString(head) && _.isString(tail))\n        return head + tail;\n    return [head, tail];\n}\nfunction merge(head, middle, tail) {\n    if (head == null)\n        return merge2(middle, tail);\n    if (middle == null)\n        return merge2(head, tail);\n    if (tail == null)\n        return merge2(head, middle);\n    if (_.isString(head) && _.isString(middle) && _.isString(tail))\n        return head + middle + tail;\n    return [head, middle, tail];\n}\nfunction cleanupProps(props) {\n    var p = JSON.parse(JSON.stringify(props));\n    delete p['text'];\n    return p;\n}\nvar maybeRegex = /[\\*_\\{\\[\\n]/;\nvar regexes = {\n    strong: /^(|.*?\\W)\\*(\\S.*?)\\*(|\\W.*)$/,\n    em: /^(|.*?\\W)_(\\S.*?)_(|\\W.*)$/,\n    p: /^(.*?)\\[(.*?)\\](.*)$/,\n    h1: /^(|.*?(?=\\n))\\n*\\s*#([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h2: /^(|.*?(?=\\n))\\n*\\s*##([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h3: /^(|.*?(?=\\n))\\n*\\s*###([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h4: /^(|.*?(?=\\n))\\n*\\s*####([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    br: /^(.*?)[^\\S\\n]*\\n()[^\\S\\n]*([\\s\\S]*)$/,\n    self: /^(.*?)\\{\\{(.*?)\\}\\}(.*)$/,\n    inter: /^(.*?)\\{(.*?)\\}(.*)$/\n};\nvar matcher = (function () {\n    function matcher(inter, self) {\n        this.inter = inter;\n        this.self = self;\n    }\n    matcher.prototype.M = function (value) {\n        if (value == null || value == '')\n            return null;\n        if (!value.match(maybeRegex))\n            return value;\n        var res = null, type = null;\n        for (var rtype in regexes) {\n            if (!regexes.hasOwnProperty(rtype))\n                continue;\n            var rres = regexes[rtype].exec(value);\n            if (rres) {\n                if (res == null || rres[1].length < res[1].length) {\n                    res = rres;\n                    type = rtype;\n                }\n            }\n        }\n        if (!type)\n            return value;\n        var middle = null;\n        switch (type) {\n            case \"inter\":\n                middle = this.inter && this.inter(res[2]);\n                break;\n            case \"self\":\n                middle = this.self && this.self(res[2]);\n                break;\n            default:\n                middle = React.createElement(type, { key: type + res[2] }, this.M(res[2]));\n                break;\n        }\n        return merge(this.M(res[1]), middle, this.M(res[3]));\n    };\n    return matcher;\n}());\nfunction rangeHit(node, val) {\n    for (var t in node) {\n        if (!node.hasOwnProperty(t))\n            continue;\n        var range = t.match(/^(-?\\d+)\\.\\.(-?\\d+)$/);\n        if (range && (+range[1] <= val && val <= +range[2])) {\n            return node[t];\n        }\n    }\n}\nfunction resolveContextPath(node, p, path, context) {\n    var key = path[p];\n    var trans;\n    if (key != null && context[key] != null) {\n        trans = _.get(node, context[key].toString());\n        if (trans == null && (+context[key]) === context[key]) {\n            trans = rangeHit(node, +context[key]);\n        }\n    }\n    if (trans == null)\n        trans = node._;\n    if (trans == null)\n        trans = first(node);\n    if (trans != null && !_.isString(trans)) {\n        return resolveContextPath(trans, p + 1, path, context);\n    }\n    return trans;\n}\nfunction resolveContext(node, context) {\n    if (context == null) {\n        return resolveContextPath(node, 0, [], null);\n    }\n    else if (!_.isObject(context)) {\n        return resolveContextPath(node, 0, ['_'], { _: context });\n    }\n    else {\n        var ctx_keys = [];\n        if (node.__) {\n            ctx_keys = node.__.split('.');\n        }\n        else {\n            for (var k in context) {\n                if (!context.hasOwnProperty(k))\n                    continue;\n                ctx_keys.push(k);\n            }\n        }\n        return resolveContextPath(node, 0, ctx_keys, context);\n    }\n}\nvar MDText = (function () {\n    function MDText(texts) {\n        var _this = this;\n        this.texts = texts;\n        this.p = this.factory('p');\n        this.span = this.factory('span');\n        this.li = this.factory('li');\n        this.div = this.factory('div');\n        this.button = this.factory('button');\n        this.a = this.factory('a');\n        this.text = function (props) { return React.createElement(props.tag || 'span', cleanupProps(props), _this.translate(props.text, props)); };\n    }\n    MDText.prototype.setTexts = function (texts) {\n        this.texts = texts;\n    };\n    MDText.prototype.interpolate = function (exp, vars) {\n        var _a = exp.split(','), vn = _a[0], flags = _a[1];\n        var v = _.get(vars, vn);\n        if (v == null) {\n            return null;\n        }\n        else if (React.isValidElement(v)) {\n            return React.cloneElement(v, { key: 'r' });\n        }\n        var vs;\n        if (flags && flags.match(/l/)) {\n            vs = v.toLocaleString();\n        }\n        else {\n            vs = v.toString();\n        }\n        return vs;\n    };\n    MDText.prototype.format = function (value, vars) {\n        var _this = this;\n        return new matcher(function (exp) { return _this.interpolate(exp, vars); }, function (exp) { return _this.translate(exp, vars); }).M(value);\n    };\n    MDText.prototype.translate = function (key, options) {\n        if (key == null)\n            return null;\n        var trans = _.get(this.texts, key);\n        if (trans != null && !_.isString(trans)) {\n            trans = resolveContext(trans, options && options.context);\n        }\n        if (trans == null) {\n            return (options && options.notFound !== undefined) ? options.notFound :\n                this.notFound !== undefined ? this.notFound :\n                    key;\n        }\n        return this.format(trans, options);\n    };\n    MDText.prototype.factory = function (tag) {\n        var _this = this;\n        return function (props) { return React.createElement(tag, cleanupProps(props), _this.translate(props.text, props)); };\n    };\n    return MDText;\n}());\nexports.MDText = MDText;\nvar singleton = new MDText(null);\nexports.__esModule = true;\nexports[\"default\"] = singleton;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/i18n-react.ts\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}