{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6e267143ce3d62572de8","webpack:///./src/i18n-react.ts","webpack:///external \"React\""],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;ACtCA;AACA;AACA;AACA,6BAA4B,qDAAqD,EAAE;AACnF,6BAA4B,8BAA8B,EAAE;AAC5D;AACA;AACA,4CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,EAAE,OAAO,EAAE;AAC9B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,qBAAqB;AACzE;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAmD,aAAa;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC,0GAA0G;AAChJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,WAAW;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,qCAAqC,EAAE,kBAAkB,mCAAmC,EAAE;AACzI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,0FAA0F;AAC3H;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;;;;;;;;;ACjNA,gD","file":"i18n-react.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"i18n-react\"] = factory(require(\"React\"));\n\telse\n\t\troot[\"i18n-react\"] = factory(root[\"React\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6e267143ce3d62572de8\n **/","\"use strict\";\nvar React = require('react');\nvar _ = {\n    isString: function (s) { return typeof s === 'string' || s instanceof String; },\n    isObject: function (o) { return typeof o === 'object'; },\n    get: function (obj, path) {\n        var spath = path.split('.');\n        for (var i = 0, len = spath.length; i < len; i++) {\n            if (!obj || typeof obj !== 'object')\n                return undefined;\n            obj = obj[spath[i]];\n        }\n        return obj;\n    }\n};\nfunction first(o) {\n    for (var k in o) {\n        if (k != '__')\n            return o[k];\n    }\n}\nfunction merge2(head, tail) {\n    if (head == null)\n        return tail;\n    if (tail == null)\n        return head;\n    if (_.isString(head) && _.isString(tail))\n        return head + tail;\n    return [head, tail];\n}\nfunction merge(head, middle, tail) {\n    if (head == null)\n        return merge2(middle, tail);\n    if (middle == null)\n        return merge2(head, tail);\n    if (tail == null)\n        return merge2(head, middle);\n    if (_.isString(head) && _.isString(middle) && _.isString(tail))\n        return head + middle + tail;\n    return [head, middle, tail];\n}\nfunction cleanupProps(props) {\n    var p = JSON.parse(JSON.stringify(props));\n    delete p['text'];\n    return p;\n}\nvar maybeRegex = /[\\*_\\{\\[\\n]/;\nvar regexes = {\n    strong: /^(|.*?\\W)\\*(\\S.*?)\\*(|\\W.*)$/,\n    em: /^(|.*?\\W)_(\\S.*?)_(|\\W.*)$/,\n    p: /^(.*?)\\[(.*?)\\](.*)$/,\n    h1: /^(|.*?(?=\\n))\\n*\\s*#([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h2: /^(|.*?(?=\\n))\\n*\\s*##([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h3: /^(|.*?(?=\\n))\\n*\\s*###([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    h4: /^(|.*?(?=\\n))\\n*\\s*####([^#].*?)#*\\s*\\n+([\\S\\s]*)$/,\n    br: /^(.*?)[^\\S\\n]*\\n()[^\\S\\n]*([\\s\\S]*)$/,\n    self: /^(.*?)\\{\\{(.*?)\\}\\}(.*)$/,\n    inter: /^(.*?)\\{(.*?)\\}(.*)$/\n};\nvar matcher = (function () {\n    function matcher(inter, self) {\n        this.inter = inter;\n        this.self = self;\n    }\n    matcher.prototype.M = function (value) {\n        if (value == null || value == '')\n            return null;\n        if (!value.match(maybeRegex))\n            return value;\n        var res = null, type = null;\n        for (var rtype in regexes) {\n            if (!regexes.hasOwnProperty(rtype))\n                continue;\n            var rres = regexes[rtype].exec(value);\n            if (rres) {\n                if (res == null || rres[1].length < res[1].length) {\n                    res = rres;\n                    type = rtype;\n                }\n            }\n        }\n        if (!type)\n            return value;\n        var middle = null;\n        switch (type) {\n            case \"inter\":\n                middle = this.inter && this.inter(res[2]);\n                break;\n            case \"self\":\n                middle = this.self && this.self(res[2]);\n                break;\n            default:\n                middle = React.createElement(type, { key: type + res[2] }, this.M(res[2]));\n                break;\n        }\n        return merge(this.M(res[1]), middle, this.M(res[3]));\n    };\n    return matcher;\n}());\nfunction rangeHit(node, val) {\n    for (var t in node) {\n        if (!node.hasOwnProperty(t))\n            continue;\n        var range = t.match(/^(-?\\d+)\\.\\.(-?\\d+)$/);\n        if (range && (+range[1] <= val && val <= +range[2])) {\n            return node[t];\n        }\n    }\n}\nfunction resolveContextPath(node, p, path, context) {\n    var key = path[p];\n    var trans;\n    if (key != null && context[key] != null) {\n        trans = _.get(node, context[key].toString());\n        if (trans == null && (+context[key]) === context[key]) {\n            trans = rangeHit(node, +context[key]);\n        }\n    }\n    if (trans == null)\n        trans = node._;\n    if (trans == null)\n        trans = first(node);\n    if (trans != null && !_.isString(trans)) {\n        return resolveContextPath(trans, p + 1, path, context);\n    }\n    return trans;\n}\nfunction resolveContext(node, context) {\n    if (context == null) {\n        return resolveContextPath(node, 0, [], null);\n    }\n    else if (!_.isObject(context)) {\n        return resolveContextPath(node, 0, ['_'], { _: context });\n    }\n    else {\n        var ctx_keys = [];\n        if (node.__) {\n            ctx_keys = node.__.split('.');\n        }\n        else {\n            for (var k in context) {\n                if (!context.hasOwnProperty(k))\n                    continue;\n                ctx_keys.push(k);\n            }\n        }\n        return resolveContextPath(node, 0, ctx_keys, context);\n    }\n}\nvar MDText = (function () {\n    function MDText(texts) {\n        var _this = this;\n        this.texts = texts;\n        this.p = this.factory('p');\n        this.span = this.factory('span');\n        this.li = this.factory('li');\n        this.div = this.factory('div');\n        this.button = this.factory('button');\n        this.a = this.factory('a');\n        this.text = function (props) { return React.createElement(props.tag || 'span', cleanupProps(props), _this.translate(props.text, props)); };\n    }\n    MDText.prototype.setTexts = function (texts) {\n        this.texts = texts;\n    };\n    MDText.prototype.interpolate = function (exp, vars) {\n        var _a = exp.split(','), vn = _a[0], flags = _a[1];\n        var v = _.get(vars, vn);\n        if (v == null) {\n            return null;\n        }\n        else if (React.isValidElement(v)) {\n            return React.cloneElement(v, { key: 'r' });\n        }\n        var vs;\n        if (flags && flags.match(/l/)) {\n            vs = v.toLocaleString();\n        }\n        else {\n            vs = v.toString();\n        }\n        return vs;\n    };\n    MDText.prototype.format = function (value, vars) {\n        var _this = this;\n        return new matcher(function (exp) { return _this.interpolate(exp, vars); }, function (exp) { return _this.translate(exp, vars); }).M(value);\n    };\n    MDText.prototype.translate = function (key, options) {\n        if (key == null)\n            return null;\n        var trans = _.get(this.texts, key);\n        if (trans != null && !_.isString(trans)) {\n            trans = resolveContext(trans, options && options.context);\n        }\n        if (trans == null) {\n            return (options && options.notFound !== undefined) ? options.notFound :\n                this.notFound !== undefined ? this.notFound :\n                    key;\n        }\n        return this.format(trans, options);\n    };\n    MDText.prototype.factory = function (tag) {\n        var _this = this;\n        return function (props) { return React.createElement(tag, cleanupProps(props), _this.translate(props.text, props)); };\n    };\n    return MDText;\n}());\nexports.MDText = MDText;\nvar singleton = new MDText(null);\nexports.__esModule = true;\nexports[\"default\"] = singleton;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/i18n-react.ts\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0\n **/"],"sourceRoot":""}